<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate FinChronicle PNG Icons</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f7;
        }
        h1 { color: #1F3A93; }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .preview-item {
            text-align: center;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }
        .preview-item h3 {
            margin: 0 0 15px 0;
            font-size: 14px;
            color: #666;
        }
        canvas {
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
        }
        button {
            background: #1F3A93;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background: #163070;
        }
        button.success {
            background: #6BCF3A;
        }
        .instructions {
            background: #e8f4fd;
            border-left: 4px solid #1F3A93;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .note {
            color: #666;
            font-size: 14px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ FinChronicle Icon Generator</h1>
        <p>Generate PNG icons from your SVG logo for PWA use.</p>

        <div class="instructions">
            <strong>ðŸ“‹ Instructions:</strong>
            <ol>
                <li>Click "Generate All Icons" below</li>
                <li>Right-click each preview â†’ "Save Image As..."</li>
                <li>Save with exact filenames shown</li>
                <li>Replace files in <code>/icons/</code> folder</li>
            </ol>
        </div>

        <button onclick="generateAllIcons()" id="generateBtn">Generate All Icons</button>

        <div class="preview-grid" id="previewGrid"></div>

        <div class="note">
            <strong>Required Files:</strong>
            <ul>
                <li><code>icon-192.png</code> - 192Ã—192 (standard PWA icon)</li>
                <li><code>icon-512.png</code> - 512Ã—512 (large PWA icon, splash screen)</li>
                <li><code>maskable-icon-512.png</code> - 512Ã—512 (Android adaptive icon with safe zone)</li>
                <li><code>favicon-32.png</code> - 32Ã—32 (browser favicon)</li>
                <li><code>favicon-16.png</code> - 16Ã—16 (browser favicon)</li>
            </ul>
        </div>
    </div>

    <script>
        const iconSVG = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <style>
      .navy { stroke: #1F3A93; fill: none; }
      .navy-fill { fill: #1F3A93; stroke: none; }
      .green { stroke: #6BCF3A; fill: none; }
      .green-fill { fill: #6BCF3A; stroke: none; }
      .cap { stroke-linecap: round; stroke-linejoin: round; }
    </style>
  </defs>

  <rect width="512" height="512" fill="#FFFFFF" rx="80"/>

  <g transform="translate(256, 256)">
    <path class="navy cap" stroke-width="32" d="M -130,-90 A 160,160 0 1,1 90,130"/>
    <path class="green cap" stroke-width="32" d="M 90,130 A 160,160 0 0,1 -130,-90"/>
    <path class="green cap" stroke-width="32" d="M 90,130 L 160,50"/>
    <path class="green-fill" d="M 160,50 L 125,65 L 145,100 Z"/>

    <g class="navy-fill">
      <rect x="-8" y="-170" width="16" height="35" rx="8"/>
      <rect x="135" y="-8" width="35" height="16" rx="8"/>
      <rect x="-8" y="135" width="16" height="35" rx="8"/>
      <rect x="-170" y="-8" width="35" height="16" rx="8"/>
    </g>

    <g class="navy-fill">
      <rect x="-12" y="-70" width="24" height="80" rx="12" transform="rotate(-60)"/>
      <rect x="-10" y="-105" width="20" height="115" rx="10" transform="rotate(60)"/>
      <circle cx="0" cy="0" r="18"/>
    </g>
  </g>
</svg>
        `;

        const maskableSVG = iconSVG.replace('scale(1)', 'scale(0.75)').replace('rx="80"', '');

        const icons = [
            { name: 'icon-512.png', size: 512, svg: iconSVG },
            { name: 'icon-192.png', size: 192, svg: iconSVG },
            { name: 'maskable-icon-512.png', size: 512, svg: maskableSVG },
            { name: 'favicon-32.png', size: 32, svg: iconSVG },
            { name: 'favicon-16.png', size: 16, svg: iconSVG }
        ];

        function generateAllIcons() {
            const grid = document.getElementById('previewGrid');
            grid.innerHTML = '';

            icons.forEach(icon => {
                const item = document.createElement('div');
                item.className = 'preview-item';

                const title = document.createElement('h3');
                title.textContent = icon.name;

                const canvas = document.createElement('canvas');
                canvas.width = icon.size;
                canvas.height = icon.size;
                canvas.style.width = icon.size > 192 ? '192px' : icon.size + 'px';
                canvas.style.height = icon.size > 192 ? '192px' : icon.size + 'px';

                const downloadBtn = document.createElement('button');
                downloadBtn.textContent = 'Download';
                downloadBtn.onclick = () => downloadIcon(canvas, icon.name);

                item.appendChild(title);
                item.appendChild(canvas);
                item.appendChild(downloadBtn);
                grid.appendChild(item);

                // Render SVG to canvas
                renderSVGToCanvas(icon.svg, canvas);
            });

            document.getElementById('generateBtn').textContent = 'âœ… Icons Generated!';
            document.getElementById('generateBtn').classList.add('success');
        }

        function renderSVGToCanvas(svgString, canvas) {
            const ctx = canvas.getContext('2d');
            const img = new Image();

            const blob = new Blob([svgString], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);

            img.onload = function() {
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                URL.revokeObjectURL(url);
            };

            img.src = url;
        }

        function downloadIcon(canvas, filename) {
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
                URL.revokeObjectURL(url);
            });
        }

        // Auto-generate on page load
        window.addEventListener('load', () => {
            setTimeout(generateAllIcons, 500);
        });
    </script>
</body>
</html>
